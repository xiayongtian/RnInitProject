(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{jbhC:function(t,e,a){"use strict";a.r(e);var r=a("d6i3"),n=a.n(r),o=a("p0pE"),s=a.n(o),i=(a("UzV/"),a("vLen")),u=a("1l/V"),c=a.n(u),l=a("0lfv");function p(t){return d.apply(this,arguments)}function d(){return d=c()(n.a.mark(function t(e){var a,r;return n.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a="/view/oa/todolist/app/getList",r=Object(l["b"])({url:a,params:e}),t.abrupt("return",r);case 3:case"end":return t.stop()}},t)})),d.apply(this,arguments)}function f(t){return v.apply(this,arguments)}function v(){return v=c()(n.a.mark(function t(e){var a,r;return n.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("\u83b7\u53d6\u8be6\u60c5\u53c2\u6570",e),a="/view/oa/details/sysFormInfo/getInfo",r=Object(l["c"])({url:a,params:e}),t.abrupt("return",r);case 4:case"end":return t.stop()}},t)})),v.apply(this,arguments)}function w(t){return h.apply(this,arguments)}function h(){return h=c()(n.a.mark(function t(e){var a,r;return n.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a="/view/oa/todolist/app/getFileList",r=Object(l["b"])({url:a,params:e}),t.abrupt("return",r);case 3:case"end":return t.stop()}},t)})),h.apply(this,arguments)}var g={currentPage:1,list:[],todoListDataSource:new i["a"].DataSource({getRowData:(t,e,a)=>t[e][a],rowHasChanged:(t,e)=>t!==e}),hasMore:!1,infoEntity:{},fileList:[],zwFileList:[]},y={namespace:"contact",state:s()({},g),effects:{getTodoList(t,e){return n.a.mark(function a(){var r,o,s,i;return n.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return r=t.payload,o=e.call,s=e.put,e.select,console.log("effects getTodoList, payload = ",r),a.next=5,o(p,r);case 5:return i=a.sent,a.next=8,s(Object(l["a"])("updateTodoList")(i));case 8:return a.abrupt("return",i);case 9:case"end":return a.stop()}},a)})()},getListDetail(t,e){return n.a.mark(function a(){var r,o,s,i;return n.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return r=t.payload,o=e.call,s=e.put,e.select,a.next=4,o(f,r);case 4:return i=a.sent,a.next=7,s(Object(l["a"])("updateDetail")(i));case 7:return a.abrupt("return",i);case 8:case"end":return a.stop()}},a)})()},getFileList(t,e){return n.a.mark(function a(){var r,o,s,i,u;return n.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return r=t.payload,o=e.call,s=e.put,e.select,console.log("\u8bf7\u6c42\u7684\u53c2\u6570\u4e3a",r),i=r.model,a.next=6,o(w,r);case 6:if(u=a.sent,console.log("\u83b7\u53d6\u9644\u4ef6\u5217\u8868response",u),"file"!=i){a.next=13;break}return a.next=11,s(Object(l["a"])("updateFileList")(u));case 11:a.next=15;break;case 13:return a.next=15,s(Object(l["a"])("updateZWFileList")(u));case 15:return a.abrupt("return",u);case 16:case"end":return a.stop()}},a)})()}},reducers:{updateZWFileList(t,e){var a=e.payload;console.log("updateFileList, payload = ",a);var r=a.data,n=r;return console.log(n),s()({},t,{zwFileList:n})},updateFileList(t,e){var a=e.payload;console.log("updateFileList, payload = ",a);var r=a.data,n=r;return console.log(n),s()({},t,{fileList:n})},updateDetail(t,e){var a=e.payload;console.log("updateDetail, payload = ",a);var r=a.data,n=a.status,o=void 0===n?-1:n;if(1===o){var i=r.infoEntity;return s()({},t,{infoEntity:i})}return s()({},t)},updateTodoList(t,e){var a=e.payload;console.log("updateTodoList, payload = ",a);var r=a.data,n=a.status,o=void 0===n?-1:n,i=a.pageNum,u=(a.totalPage,a.pageSize,a.total);if(1===o){var c=t.list,l=r;1!==i&&(l=c.concat(r));var p=t.todoListDataSource.cloneWithRows(l),d=l.length<u;return s()({},t,{todoListDataSource:p,list:l,currentPage:i,hasMore:d})}return s()({},t)},reset(t,e){return s()({},g)}},subscriptions:{setup(t){var e=t.dispatch,a=t.history;a.listen((t,a)=>{console.log("history.listen, pathname = ",t),"/todoList"!==t&&e({type:"reset"})})}}};e["default"]=y}}]);