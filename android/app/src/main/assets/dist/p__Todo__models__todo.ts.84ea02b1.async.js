(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{tOma:function(t,e,a){"use strict";a.r(e);var r=a("d6i3"),n=a.n(r),s=a("p0pE"),o=a.n(s),u=(a("UzV/"),a("vLen")),i=a("1l/V"),c=a.n(i),l=a("0lfv");function p(t){return d.apply(this,arguments)}function d(){return d=c()(n.a.mark(function t(e){var a,r;return n.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a="/view/oa/todolist/app/getList",r=Object(l["b"])({url:a,params:e}),t.abrupt("return",r);case 3:case"end":return t.stop()}},t)})),d.apply(this,arguments)}function f(t){return w.apply(this,arguments)}function w(){return w=c()(n.a.mark(function t(e){var a,r;return n.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("\u83b7\u53d6\u8be6\u60c5\u53c2\u6570",e),a="/view/oa/details/sysFormInfo/getInfo",r=Object(l["c"])({url:a,params:e}),t.abrupt("return",r);case 4:case"end":return t.stop()}},t)})),w.apply(this,arguments)}function v(t){return h.apply(this,arguments)}function h(){return h=c()(n.a.mark(function t(e){var a,r;return n.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("\u83b7\u53d6\u5e94\u6025\u503c\u73ed\u8868\u5355",e),a="/view/oa/details/sysFormInfo/getYjzbInfo",r=Object(l["c"])({url:a,params:e}),t.abrupt("return",r);case 4:case"end":return t.stop()}},t)})),h.apply(this,arguments)}function y(t){return g.apply(this,arguments)}function g(){return g=c()(n.a.mark(function t(e){var a,r;return n.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a="/view/oa/todolist/app/getFileList",r=Object(l["b"])({url:a,params:e}),t.abrupt("return",r);case 3:case"end":return t.stop()}},t)})),g.apply(this,arguments)}var b={currentPage:1,list:[],todoListDataSource:new u["a"].DataSource({getRowData:(t,e,a)=>t[e][a],rowHasChanged:(t,e)=>t!==e}),hasMore:!1,infoEntity:{},fileList:[],zwFileList:[]},L={namespace:"todo",state:o()({},b),effects:{getTodoList(t,e){return n.a.mark(function a(){var r,s,o,u;return n.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return r=t.payload,s=e.call,o=e.put,e.select,console.log("effects getTodoList, payload = ",r),a.next=5,s(p,r);case 5:return u=a.sent,a.next=8,o(Object(l["a"])("updateTodoList")(u));case 8:return a.abrupt("return",u);case 9:case"end":return a.stop()}},a)})()},getListDetail(t,e){return n.a.mark(function a(){var r,s,o,u;return n.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return r=t.payload,s=e.call,o=e.put,e.select,a.next=4,s(f,r);case 4:return u=a.sent,a.next=7,o(Object(l["a"])("updateDetail")(u));case 7:return a.abrupt("return",u);case 8:case"end":return a.stop()}},a)})()},getEmergencyDutyDetail(t,e){return n.a.mark(function a(){var r,s,o,u;return n.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return r=t.payload,s=e.call,o=e.put,e.select,a.next=4,s(v,r);case 4:return u=a.sent,a.next=7,o(Object(l["a"])("updateDetail")(u));case 7:return a.abrupt("return",u);case 8:case"end":return a.stop()}},a)})()},getFileList(t,e){return n.a.mark(function a(){var r,s,o,u,i;return n.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return r=t.payload,s=e.call,o=e.put,e.select,console.log("\u8bf7\u6c42\u7684\u53c2\u6570\u4e3a",r),u=r.model,a.next=6,s(y,r);case 6:if(i=a.sent,console.log("\u83b7\u53d6\u9644\u4ef6\u5217\u8868response",i),"file"!=u){a.next=13;break}return a.next=11,o(Object(l["a"])("updateFileList")(i));case 11:a.next=15;break;case 13:return a.next=15,o(Object(l["a"])("updateZWFileList")(i));case 15:return a.abrupt("return",i);case 16:case"end":return a.stop()}},a)})()}},reducers:{updateZWFileList(t,e){var a=e.payload;console.log("updateFileList, payload = ",a);var r=a.data,n=r;return console.log(n),o()({},t,{zwFileList:n})},updateFileList(t,e){var a=e.payload;console.log("updateFileList, payload = ",a);var r=a.data,n=r;return console.log(n),o()({},t,{fileList:n})},updateDetail(t,e){var a=e.payload;console.log("updateDetail, payload = ",a);var r=a.data,n=a.status,s=void 0===n?-1:n;if(1===s){var u=r.infoEntity;return o()({},t,{infoEntity:u})}return o()({},t)},updateTodoList(t,e){var a=e.payload;console.log("updateTodoList, payload = ",a);var r=a.data,n=a.status,s=void 0===n?-1:n,u=a.pageNum,i=(a.totalPage,a.pageSize,a.total);if(1===s){var c=t.list,l=r;1!==u&&(l=c.concat(r));var p=t.todoListDataSource.cloneWithRows(l),d=l.length<i;return o()({},t,{todoListDataSource:p,list:l,currentPage:u,hasMore:d})}return o()({},t)},reset(t,e){return o()({},b)}},subscriptions:{setup(t){var e=t.dispatch,a=t.history;a.listen((t,a)=>{console.log("history.listen, pathname = ",t),"/todoList"!==t&&e({type:"reset"})})}}};e["default"]=L}}]);